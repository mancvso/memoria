%!TEX root = memoria.tex
\chapter{Capítulo 3}

\section{Diseño y Construcción de las Pruebas}

Para evaluar el rendimiento, complejidad y escalabilidad de cada combinación de protocolo de transferencia, formato de serialización y patrón de comunicación entre procesos, se diseñarán dos arquitecturas de software; una enfocada en operaciones transaccionales y otra con menos garantías.

El artefacto principal es una técnica para medir ad-hoc la eficiencia de una configuración de protocolos de transmisión de datos.

\section{Metodología}

Mido escalabilidad con peticiones bidireccionales.

Establecer un criterio para diferenciar la manera en que se distribuyen las peticiones dentro del sistema; argumentar que la naturaleza de la arquitectura tiene grandes repercusiones en la utilidad de los resultados de esta memoria; aún así, es posible generar mediciones que sirvan de aproximación.

Curvas de tráfico principales incluyen round robin/equilibrado, lightail/arrastre, blackhole. Round robin corresponde al clásico algoritmo de distribuir los mensajes de forma equitativa y espaciosa (considerar supergrupos para aumentar espacialidad); lightsail funciona como un punto de gravedad que atrae los mensajes en curso y finalmente, black hole es un anillo de lightsails.

Usar una matriz de 3x3 (o R3) con un eje que indique densidad de la arquitectura, el otro indica peticiones y el último indica tipo de distribución (aleatoria, euclidiana, constante)

\colorbox{green}{MODELOS DE DISTRIBUCIÓN}

El uso de modelos de distribución permite comprobar la solidez de los resultados cuando cambia la arquitectura o demostrar que no son corroborables. Es también una medida para ir controlando los experimentos.

Tomar tiempo hasta el primer byte útil, latencias aportadas por el protocolo usando el mismo broker, mismos servidores, mismos servicios en una misma arquitectura; sólo medir lo que aporta el protocolo y las serializaciones cuando el resto se mantiene constante.

\begin{itemize}
  \item Aleatorio
  \item Euclidiano
  \item Constante (acá hay que crear una forma de generar un patrón aleatorio que se mantenga durante toda la medición)
\end{itemize}

\begin{itemize}
  \item Levantar máquinas
  \item instalar software
  \item escoger apps
  \item programar gateway
  \item programar scheduler de tareas
  \item alguna forma de variar los parámetros
\end{itemize}

\subsection{Procedimiento}
Una vez implementadas las arquitecturas, \colorbox{green}{brokers, }

Apps capaces de intercambiar en tiempo de ejecución los brokers y formatos de serialización.
Implica que las apps deben tener soporte para todo lo estudiado.

% Ya no hay servidores para hacer pruebas

\subsubsection{Instrumentos}
La infraestructura será montada sobre redes elásticas (SDN) y el cómputo será realizado por teléfonos móviles, routers y microcomputadores.

\subsubsection{Software}

Para realizar las mediciones se utilizará un recolector de métricas dirigido a un graficador volátil.

\begin{itemize}
  \item Typhoon
  \item Apache jMeter
  \item collectd
\end{itemize}

\subsection{Estrategia de análisis}

Los patrones de tráfico son autogenerados por el algoritmo en estudio. Dichos patrones son luego ejecutados por un software que genera las peticiones especificadas en el diseño. La arquitectura se encarga de dar cómputo a dichas peticiones.

Es labor del patrón de tráfico logar que el itinerario entre los nodos de la red sea predecible y llevado a cabo.

Se utiliza afinidad a los nodos como parámetro para el diseño del tráfico y proximidad entre nodo para crear asociaciones geométricas (para generar topologías de anillos, etc).

\section{Métricas} % (fold)
\label{sec:métricas}



% section métricas (end)
\textbf{Rendimiento}

\begin{itemize}
  \item Mensajes por segundo
  \item Operaciones por segundo
  \item Overhead de transporte
  \item Overhead de serialización
  \item Latencia hasta el primer byte del cuerpo
  \item Latencia hasta el último byte de un buffer fijo.
\end{itemize}

\textbf{Operacionales}
\begin{itemize}
  \item Infraestructura
  \item Complejidad percibida
  \item Líneas de código
  \item Tareas automatizables
  \item Costos operacionales
  \item Energía consumida
\end{itemize}

\textbf{Documentación}
\begin{itemize}
  \item Estándares: Estado del arte de los protocolos de comunicación
  \item Librerías disponibles
  \item Lenguajes soportados: Acá considerar el estado del arte en la programación basada en la web.
\end{itemize}